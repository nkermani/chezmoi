{{- if (and (eq .chezmoi.os "linux") (.chezmoi.kernel.osrelease | lower | contains "microsoft")) -}}
#!/bin/bash

# Nvim config sync to Windows (syncs nvim config as default Windows nvim)
# Hash: {{ include "dot_config/nvim/init.lua" | sha256sum }}

WIN_NVIM_DIR="/mnt/c/Users/kerma/AppData/Local/nvim"
WIN_NVIM_DATA_DIR="/mnt/c/Users/kerma/AppData/Local/nvim-data"

if [ -d "$WIN_NVIM_DIR" ] || [ -f "$WIN_NVIM_DIR" ] || [ -d "$HOME/.config/nvim" ]; then
    echo "ðŸªŸ Syncing Nvim config to Windows..."

    # Remove old config if exists (file or directory)
    if [ -d "$WIN_NVIM_DIR" ] || [ -f "$WIN_NVIM_DIR" ]; then
        rm -rf "$WIN_NVIM_DIR"
    fi

    # Copy current nvim config
    if [ -d "$HOME/.config/nvim" ]; then
        cp -r "$HOME/.config/nvim" "$WIN_NVIM_DIR"
    fi
fi
{{- end }}

