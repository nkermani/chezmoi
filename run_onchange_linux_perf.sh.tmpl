{{- if (and (eq .chezmoi.os "linux") (not (.chezmoi.kernel.osrelease | lower | contains "microsoft"))) -}}
#!/bin/bash

# Configuration Performance Linux (X11/GNOME)
# Delay: 170 | Rate: 120   (Hz)

echo "üöÄ Optimisation Linux (Keyboard & Mouse)..."

# 1. Clavier (via xset pour X11, commun √† 42)
if command -v xset >/dev/null; then
    xset r rate 170 120
fi

# 2. GNOME (gsettings - pas besoin de sudo)
if command -v gsettings >/dev/null; then
    # Clavier
    gsettings set org.gnome.desktop.peripherals.keyboard delay 170
    gsettings set org.gnome.desktop.peripherals.keyboard repeat-interval 16

    # Souris : Profil "Flat" pour supprimer l'acc√©l√©ration
    gsettings set org.gnome.desktop.peripherals.mouse acceleration-profile 'flat'
    gsettings set org.gnome.desktop.peripherals.mouse speed 0
fi

echo "‚úÖ Linux optimis√©."
{{- end }}

